# LoRA Rankì— ë”°ë¥¸ í•™ìŠµ ì„±ëŠ¥ ë¹„êµ ğŸ”

## í”„ë¡œì íŠ¸ ì„¤ëª… ğŸ¯

ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” **LoRA (Low-Rank Adaptation)**ì—ì„œ rankë¥¼ ì¡°ì •í•  ë•Œ ëª¨ë¸ ì„±ëŠ¥ê³¼ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤. RankëŠ” LoRAì˜ í•µì‹¬ íŒŒë¼ë¯¸í„° ì¤‘ í•˜ë‚˜ë¡œ, ëª¨ë¸ì˜ ì„±ëŠ¥ê³¼ ìì› ì‚¬ìš©ì— ì˜í–¥ì„ ì¤ë‹ˆë‹¤. ì‹¤í—˜ì—ì„œëŠ” rankë¥¼ `[8, 128, 256]`ìœ¼ë¡œ ë³€ê²½í•˜ì—¬, í•™ìŠµ ì†ì‹¤(Loss), í•™ìŠµ ì†ë„(Runtime), ê·¸ë¦¬ê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê´€ì°°í–ˆìŠµë‹ˆë‹¤.

## ì‹¤í—˜ ì„¤ì • âš™ï¸

- **ëª¨ë¸**: `facebook/opt-350m`
- **ë°ì´í„°ì…‹**: `lucasmccabe-lmi/CodeAlpaca-20k`
- **Rank ê°’**: `[8, 128, 256]`
- **í‰ê°€ í•­ëª©**:
  - í•™ìŠµ ì†ì‹¤ (Loss)
  - í‰ê·  CPU ë° GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
  - í•™ìŠµ ì†Œìš” ì‹œê°„ (Runtime)

## ê²°ê³¼ ë¶„ì„ ğŸ“Š

### í•™ìŠµ ì†ì‹¤ (Loss)
- [Loss ê·¸ë˜í”„ ë³´ê¸°](https://api.wandb.ai/links/wrtyu0603-illinois-institute-of-technology/630d7aty)
- Rankê°€ ë†’ì„ìˆ˜ë¡ ë¯¸ì„¸í•˜ê²Œ ë‚®ì€ Lossë¥¼ ë³´ì—¬, **Rank 256ê³¼ 128**ì´ **Rank 8**ì— ë¹„í•´ ì•½ê°„ ë” ì•ˆì •ì ì¸ í•™ìŠµì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.  
![image](https://github.com/user-attachments/assets/22d497ff-820f-4f3a-a7ea-8786e425d0d0)

### í‰ê·  CPU ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- [CPU ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê·¸ë˜í”„ ë³´ê¸°](https://api.wandb.ai/links/wrtyu0603-illinois-institute-of-technology/1ocbxayx)
- Rank 8ì´ ê°€ì¥ ì ì€ CPU ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ì˜€ê³ , 128ê³¼ 256ì˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ë¹„ìŠ·í•˜ê²Œ ë‚˜ì™”ìŠµë‹ˆë‹¤.  
![image](https://github.com/user-attachments/assets/9d986edb-db66-43d2-ba34-d1c93004be6c)

### í‰ê·  GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
- [GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê·¸ë˜í”„ ë³´ê¸°](https://api.wandb.ai/links/wrtyu0603-illinois-institute-of-technology/wyhl2pom)
- GPU ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ Rankê°€ ë†’ì•„ì§ˆìˆ˜ë¡ ì¦ê°€í–ˆìœ¼ë©°, Rank 8ì´ ê°€ì¥ ì ì€ ë©”ëª¨ë¦¬ë¥¼ ì†Œë¹„í–ˆìŠµë‹ˆë‹¤.  
![image](https://github.com/user-attachments/assets/33b51050-f861-4935-8b91-f3e13d128d53)

### í•™ìŠµ ì†Œìš” ì‹œê°„ (Runtime)
- [Runtime ê·¸ë˜í”„ ë³´ê¸°](https://api.wandb.ai/links/wrtyu0603-illinois-institute-of-technology/m2u59eri)
- Rankê°€ ë†’ì„ìˆ˜ë¡ í•™ìŠµ ì‹œê°„ì´ ê¸¸ì–´ì¡Œìœ¼ë©°, Rank 8ì´ ê°€ì¥ ë¹ ë¥¸ í•™ìŠµ ì†ë„ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤.  
![image](https://github.com/user-attachments/assets/09d26c9b-5304-4599-a340-58ff51352011)

## ê²°ë¡  ë° ìš”ì•½ âœï¸

- **LoRA Rank**ê°€ ë†’ì„ìˆ˜ë¡ GPU ë©”ëª¨ë¦¬ì™€ í•™ìŠµ ì‹œê°„ì´ ì¦ê°€í•˜ì§€ë§Œ, í•™ìŠµ ì†ì‹¤ì´ ì•½ê°„ ë” ë‚®ì•„ì¡ŒìŠµë‹ˆë‹¤.
- **Rank 8**: ì ì€ ìì› ì†Œëª¨ì™€ ë¹ ë¥¸ í•™ìŠµ ì†ë„ë¥¼ ë³´ì—¬, **ì €ì‚¬ì–‘ í™˜ê²½ì—ì„œ íš¨ìœ¨ì **ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.
- **Rank 256**: ë©”ëª¨ë¦¬ì™€ ì‹œê°„ì´ ë” ì†Œìš”ë˜ì§€ë§Œ, **í•™ìŠµ ì„±ëŠ¥**ì´ ë¯¸ë¯¸í•˜ê²Œ ì¢‹ì•„ì¡ŒìŠµë‹ˆë‹¤.
